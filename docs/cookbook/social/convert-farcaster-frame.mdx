---
title: Convert Farcaster Frame to Open Frame
sidebarTitle: Convert to Open Frame
description: 'Step-by-step guide for converting Farcaster Frames to Open Frames for broader platform support'
---

Expand your Frame's reach beyond Farcaster by converting it to an Open Frame. Open Frames are supported across multiple platforms including X (Twitter), making your interactive content accessible to a much wider audience.

<CardGroup cols={2}>
  <Card title="What are Open Frames?" icon="globe" href="#understanding-open-frames">
    Learn about the Open Frame standard and its benefits
  </Card>
  <Card title="Conversion Process" icon="exchange" href="#conversion-steps">
    Step-by-step conversion guide
  </Card>
  <Card title="Multi-Platform Support" icon="link" href="#platform-support">
    Deploy your Frame across multiple platforms
  </Card>
  <Card title="Best Practices" icon="star" href="#best-practices">
    Tips for optimal cross-platform compatibility
  </Card>
</CardGroup>

## Understanding Open Frames

Open Frames extend the Farcaster Frame standard to work across multiple platforms. They maintain the same interactive capabilities while adding broader platform compatibility.

<Info>
**Open Frame Benefits**

- **Wider Reach**: Deploy to X (Twitter), Lens Protocol, and other platforms
- **Standardized Format**: Use a single codebase for multiple platforms
- **Future-Proof**: Built on open standards for broader adoption
- **Enhanced Discovery**: Tap into larger social networks
</Info>

### Key Differences

| Feature | Farcaster Frames | Open Frames |
|---------|------------------|-------------|
| Platform Support | Farcaster only | Multiple platforms |
| Metadata Format | Farcaster-specific | Open Graph + extensions |
| Button Actions | Limited to Farcaster | Cross-platform compatible |
| Image Handling | Farcaster standards | Universal image formats |

## Prerequisites

Before converting your Frame, ensure you have:

<Check>
A working Farcaster Frame
</Check>
<Check>
Understanding of Open Graph meta tags
</Check>
<Check>
Access to Frame deployment infrastructure
</Check>
<Check>
Test accounts on target platforms
</Check>

## Conversion Steps

### Step 1: Update Meta Tags

Convert your Farcaster-specific meta tags to Open Frame format:

```html Before (Farcaster Frame)
<meta property="fc:frame" content="vNext" />
<meta property="fc:frame:image" content="https://example.com/image.jpg" />
<meta property="fc:frame:button:1" content="Click me" />
<meta property="fc:frame:post_url" content="https://example.com/api/frame" />
```

```html After (Open Frame)
<!-- Open Graph base tags -->
<meta property="og:title" content="My Interactive Frame" />
<meta property="og:description" content="An interactive experience" />
<meta property="og:image" content="https://example.com/image.jpg" />

<!-- Farcaster Frame (keep for backward compatibility) -->
<meta property="fc:frame" content="vNext" />
<meta property="fc:frame:image" content="https://example.com/image.jpg" />
<meta property="fc:frame:button:1" content="Click me" />
<meta property="fc:frame:post_url" content="https://example.com/api/frame" />

<!-- Open Frame additions -->
<meta property="of:version" content="vNext" />
<meta property="of:accepts:farcaster" content="vNext" />
<meta property="of:accepts:xmtp" content="2024-02-09" />
<meta property="of:image" content="https://example.com/image.jpg" />
<meta property="of:button:1" content="Click me" />
<meta property="of:post_url" content="https://example.com/api/frame" />
```

### Step 2: Update Frame Handler

Modify your Frame handler to support multiple platforms:

```typescript api/frame/route.ts
import { NextRequest, NextResponse } from 'next/server'

export async function POST(req: NextRequest) {
  const body = await req.json()
  
  // Detect the platform
  const platform = detectPlatform(body)
  
  // Handle different platform formats
  switch (platform) {
    case 'farcaster':
      return handleFarcasterFrame(body)
    case 'xmtp':
      return handleXMTPFrame(body)
    case 'lens':
      return handleLensFrame(body)
    default:
      return handleGenericFrame(body)
  }
}

function detectPlatform(body: any): string {
  // Check for platform-specific identifiers
  if (body.untrustedData?.fid) return 'farcaster'
  if (body.clientProtocol?.includes('xmtp')) return 'xmtp'
  if (body.clientProtocol?.includes('lens')) return 'lens'
  return 'generic'
}

function handleFarcasterFrame(body: any) {
  const { buttonIndex, fid, castId } = body.untrustedData
  
  // Your existing Farcaster logic
  return NextResponse.json({
    image: "https://example.com/response.jpg",
    buttons: [
      { label: "Next", action: "post" }
    ]
  })
}

function handleGenericFrame(body: any) {
  // Generic handling for other platforms
  return NextResponse.json({
    image: "https://example.com/response.jpg",
    buttons: [
      { label: "Continue", action: "post" }
    ]
  })
}
```

### Step 3: Add Platform Detection

Create a utility to handle platform-specific logic:

```typescript utils/platform.ts
export interface FrameRequest {
  platform: 'farcaster' | 'xmtp' | 'lens' | 'generic'
  user?: {
    id: string
    username?: string
    address?: string
  }
  interaction: {
    buttonIndex: number
    inputText?: string
    state?: string
  }
}

export function parseFrameRequest(body: any): FrameRequest {
  // Farcaster format
  if (body.untrustedData?.fid) {
    return {
      platform: 'farcaster',
      user: {
        id: body.untrustedData.fid.toString(),
        address: body.untrustedData.address,
      },
      interaction: {
        buttonIndex: body.untrustedData.buttonIndex,
        inputText: body.untrustedData.inputText,
        state: body.untrustedData.state,
      }
    }
  }
  
  // Generic format for other platforms
  return {
    platform: 'generic',
    user: {
      id: body.user?.id || 'anonymous',
    },
    interaction: {
      buttonIndex: body.buttonIndex || 1,
      inputText: body.inputText,
      state: body.state,
    }
  }
}
```

### Step 4: Update Response Format

Ensure your responses work across platforms:

```typescript utils/frameResponse.ts
export interface FrameResponse {
  image: string
  imageAspectRatio?: '1.91:1' | '1:1'
  buttons?: Array<{
    label: string
    action?: 'post' | 'post_redirect' | 'link' | 'mint'
    target?: string
  }>
  input?: {
    text: string
  }
  state?: string
}

export function createFrameResponse(response: FrameResponse) {
  const html = `
    <!DOCTYPE html>
    <html>
      <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        
        <!-- Open Graph -->
        <meta property="og:image" content="${response.image}" />
        
        <!-- Farcaster Frame -->
        <meta property="fc:frame" content="vNext" />
        <meta property="fc:frame:image" content="${response.image}" />
        <meta property="fc:frame:image:aspect_ratio" content="${response.imageAspectRatio || '1.91:1'}" />
        
        <!-- Open Frame -->
        <meta property="of:version" content="vNext" />
        <meta property="of:accepts:farcaster" content="vNext" />
        <meta property="of:image" content="${response.image}" />
        <meta property="of:image:aspect_ratio" content="${response.imageAspectRatio || '1.91:1'}" />
        
        ${response.buttons?.map((button, index) => `
          <meta property="fc:frame:button:${index + 1}" content="${button.label}" />
          <meta property="of:button:${index + 1}" content="${button.label}" />
          ${button.action ? `<meta property="fc:frame:button:${index + 1}:action" content="${button.action}" />` : ''}
          ${button.action ? `<meta property="of:button:${index + 1}:action" content="${button.action}" />` : ''}
          ${button.target ? `<meta property="fc:frame:button:${index + 1}:target" content="${button.target}" />` : ''}
          ${button.target ? `<meta property="of:button:${index + 1}:target" content="${button.target}" />` : ''}
        `).join('') || ''}
        
        ${response.input ? `
          <meta property="fc:frame:input:text" content="${response.input.text}" />
          <meta property="of:input:text" content="${response.input.text}" />
        ` : ''}
        
        ${response.state ? `
          <meta property="fc:frame:state" content="${response.state}" />
          <meta property="of:state" content="${response.state}" />
        ` : ''}
      </head>
      <body>
        <img src="${response.image}" alt="Frame Image" />
      </body>
    </html>
  `
  
  return new Response(html, {
    headers: { 'Content-Type': 'text/html' },
  })
}
```

## Platform Support

### X (Twitter) Integration

To make your Open Frame work on X:

1. **Ensure proper Open Graph tags** are present
2. **Test with X's card validator**: Use the Card Validator to verify your meta tags
3. **Handle X-specific user interactions**: X may pass different user data

```typescript utils/xIntegration.ts
export function handleXFrame(body: any) {
  // X-specific handling
  return {
    platform: 'x',
    user: {
      id: body.user?.id || 'x_user',
      username: body.user?.username,
    },
    interaction: {
      buttonIndex: body.buttonIndex || 1,
    }
  }
}
```

### Lens Protocol Support

For Lens Protocol integration:

```typescript utils/lensIntegration.ts
export function handleLensFrame(body: any) {
  return {
    platform: 'lens',
    user: {
      id: body.profileId,
      address: body.address,
    },
    interaction: {
      buttonIndex: body.buttonIndex,
      state: body.state,
    }
  }
}
```

## Best Practices

### Cross-Platform Compatibility

<Tip>
**Universal Design**

Design your Frame content and interactions to work across all platforms. Avoid platform-specific features in your core experience.
</Tip>

1. **Consistent Branding**: Use the same visual elements across platforms
2. **Universal Button Labels**: Use clear, platform-agnostic button text
3. **Responsive Images**: Ensure images work at different aspect ratios
4. **Graceful Degradation**: Handle missing platform features gracefully

### Testing Strategy

<Steps>
<Step title="Test on Farcaster First">
Ensure your original Farcaster Frame still works perfectly.
</Step>

<Step title="Validate Meta Tags">
Use validation tools to check your Open Graph and Open Frame meta tags.
</Step>

<Step title="Cross-Platform Testing">
Test your Frame on each target platform with real user accounts.
</Step>

<Step title="Monitor Analytics">
Track engagement across platforms to optimize performance.
</Step>
</Steps>

### Performance Optimization

```typescript utils/optimization.ts
// Cache images across platforms
export function getCachedImage(imageKey: string) {
  // Implement caching logic
  return `https://cdn.example.com/frames/${imageKey}.jpg`
}

// Optimize for different platform requirements
export function optimizeImageForPlatform(
  baseImage: string, 
  platform: string
): string {
  switch (platform) {
    case 'farcaster':
      return `${baseImage}?w=1200&h=630` // 1.91:1 aspect ratio
    case 'x':
      return `${baseImage}?w=1200&h=675` // X card format
    default:
      return baseImage
  }
}
```

## Deployment

### Environment Configuration

```bash .env
# Platform-specific configurations
FARCASTER_HUB_URL=https://neynar.com/v1/farcaster
XMTP_ENV=production
LENS_API_URL=https://api.lens.dev

# Image optimization
IMAGE_CDN_URL=https://cdn.example.com
```

### Monitoring and Analytics

Track Frame performance across platforms:

```typescript utils/analytics.ts
export function trackFrameInteraction(
  platform: string,
  action: string,
  userId?: string
) {
  // Send analytics to your preferred service
  analytics.track('frame_interaction', {
    platform,
    action,
    userId,
    timestamp: new Date().toISOString(),
  })
}
```

## Resources

<CardGroup cols={2}>
  <Card title="Open Frames Spec" icon="book" href="https://github.com/open-frames/standard">
    Official Open Frames specification
  </Card>
  <Card title="Frame Validators" icon="check" href="https://warpcast.com/~/developers/frames">
    Tools for testing your Frames
  </Card>
  <Card title="Platform Documentation" icon="link" href="https://docs.farcaster.xyz/learn/what-is-farcaster/frames">
    Platform-specific Frame documentation
  </Card>
  <Card title="Best Practices Guide" icon="star" href="#best-practices">
    Cross-platform optimization tips
  </Card>
</CardGroup>

---

Converting your Farcaster Frame to an Open Frame significantly expands your reach while maintaining the interactive experience users love. Start with backward compatibility and gradually optimize for each platform's unique features and audience. 